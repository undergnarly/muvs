.animated-gradient {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    overflow: hidden;
    z-index: 0;
    pointer-events: none;
}

/* Light background gradient - fixed position for entire page background */
.animated-gradient.light-background-gradient {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    z-index: -1;
}

.gradient-blob {
    position: absolute;
    border-radius: 50%;
    filter: blur(80px);
    /* Keep circles circular - no stretching */
    aspect-ratio: 1 / 1;
    /* Use opacity from settings instead of hardcoded value */
    opacity: var(--gradient-opacity, 0.8);
}

/* Morphing type with custom inline styles for randomization */
.animated-gradient--morphing .gradient-blob {
    animation: morphMoveCustom calc(var(--animation-speed, 10s) + var(--speed-offset, 0s)) ease-in-out infinite alternate;
}

.gradient-blob:nth-child(1) { background: var(--gradient-1); animation-delay: var(--phase-offset, 0s); }
.gradient-blob:nth-child(2) { background: var(--gradient-2); animation-direction: alternate-reverse; animation-delay: calc(var(--phase-offset, 0s) + 1s); }
.gradient-blob:nth-child(3) { background: var(--gradient-3); animation-delay: calc(var(--phase-offset, 0s) + 2s); }
.gradient-blob:nth-child(4) { background: var(--gradient-4); animation-direction: alternate-reverse; animation-delay: calc(var(--phase-offset, 0s) + 3s); }

@keyframes morphMoveCustom {
    0% {
        transform: translate(0, 0) scale(1);
    }
    25% {
        transform: translate(calc(var(--custom-x, 30px) * 0.5), calc(var(--custom-y, -50px) * 0.3)) scale(1.02);
    }
    50% {
        transform: translate(var(--custom-x, 30px), var(--custom-y, -50px)) scale(1);
    }
    75% {
        transform: translate(calc(var(--custom-x, 30px) * 0.8), calc(var(--custom-y, -50px) * 0.6)) scale(0.98);
    }
    100% {
        transform: translate(calc(var(--custom-x, 30px) * -0.5), calc(var(--custom-y, -50px) * -0.5)) scale(1);
    }
}

/* Shimmer type */
.animated-gradient--shimmer .gradient-blob {
    width: 200%;
    height: 200%;
    animation: shimmerRotate var(--animation-speed, 20s) linear infinite;
}

.animated-gradient--shimmer .blob-1 {
    background: linear-gradient(45deg, var(--gradient-1), var(--gradient-2));
    top: -50%;
    left: -50%;
}

.animated-gradient--shimmer .blob-2 {
    background: linear-gradient(135deg, var(--gradient-3), var(--gradient-4));
    top: -50%;
    right: -50%;
}

@keyframes shimmerRotate {
    0% {
        transform: rotate(0deg);
    }
    100% {
        transform: rotate(360deg);
    }
}

/* Pulse type */
.animated-gradient--pulse .blob-1 {
    width: 80%;
    height: 80%;
    background: radial-gradient(circle, var(--gradient-1), var(--gradient-2));
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    animation: pulseScale var(--animation-speed, 8s) ease-in-out infinite;
}

.animated-gradient--pulse .blob-2 {
    width: 60%;
    height: 60%;
    background: radial-gradient(circle, var(--gradient-3), var(--gradient-4));
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    animation: pulseScale var(--animation-speed, 6s) ease-in-out infinite reverse;
}

@keyframes pulseScale {
    0%, 100% {
        transform: translate(-50%, -50%) scale(1);
    }
    50% {
        transform: translate(-50%, -50%) scale(1.2);
    }
}
